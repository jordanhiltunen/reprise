<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.36
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Reprise">Reprise</h1>

<blockquote>
<p>/ˈkɒɹəskeɪt/ (intransitive) To give off light; to reflect in flashes; to sparkle.</p>
</blockquote>

<p><a href="https://github.com/jordanhiltunen/reprise/actions/workflows/build.yml"><img src="https://github.com/jordanhiltunen/reprise/actions/workflows/build.yml/badge.svg"></a></p>

<p>Reprise is a shiny schedule expansion library that pursues speed first and foremost. While battle-tested gems like IceCube and Montrose provide incredibly flexible APIs to allow client applications to idiomatically construct recurring schedules with ease, Reprise offers a very sparse API, opting instead to pursue blazingly-fast schedule expansion at the expense of ergonomics.</p>

<p>Reprise provides schedule expansion using a Rust extension built with magnus. Your use case probably will not benefit from the emphasis it places on raw performance, you would probably benefit more from the mature and very comprehensive APIs offered by IceCube and Montrose… but if you only need to support very rudimentary schedule expansion logic and you need speed, this might be worthwhile</p>

<h2 id="label-Design+Goals">Design Goals</h2>
<ul><li>
<p>Raw performance &amp; memory efficiency.</p>
</li></ul>

<h2 id="label-Design+Non-Goals">Design Non-Goals</h2>
<ul><li>
<p>Offering multiple methods / calling conventions for each feature. We are calling into Rust functions, relying on a very strict typed language to do the heavy lifting for us. Libraries like ice_cube and montrose offer remarkable flexibility in a Ruby idiom; if those libraries make sense for your use case, you should probably use them.</p>
</li><li>
<p>Supporting serialization to and from iCal. We are straying from that standard in meaningful ways. For example, we do not define exclusions by date, but by specific time ranges. This allows the library to handle exclusion collision detection without client applications having to implement that core scheduling concern on their own, outside of schedule expansion.</p>
</li></ul>

<h2 id="label-Installation">Installation</h2>

<p>Add this line to your application’s Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reprise</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>And then execute:</p>

<pre class="code ruby"><code class="ruby">$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre class="code ruby"><code class="ruby">$ gem install reprise
</code></pre>

<h2 id="label-Usage">Usage</h2>

<h3 id="label-Initialize+a+new+schedule">Initialize a new schedule</h3>

<p>All schedules must be initialized with a start time, end time, and time zone.</p>

<pre class="code ruby"><code class="ruby">starts_at = Time.current.in_time_zone(&quot;Hawaii&quot;)
ends_at = Time.current + 4.weeks

schedule = Reprise::Schedule.new(starts_at:, ends_at:, time_zone: &quot;Hawaii&quot;)

# 2. Define recurring series
schedule.repeat_weekly(:sunday, time_of_day: { hour: 9, minute: 30 }, duration_in_seconds: 60)
````

### Add recurring event series
</code></pre>

<p>ruby</p>

<h1 id="label-When+a+time_of_day+is+required-2C+you+can+pass+an+hour-2Fminute-2Fsecond+hash-3A">When a time_of_day is required, you can pass an hour/minute/second hash:</h1>

<p>schedule.repeat_weekly(:sunday, time_of_day: { hour: 9, minute: 30 }, duration_in_seconds: 60)</p>

<h1 id="label-Or-2C+you+can+pass+a+Time+value-3A">Or, you can pass a <code>Time</code> value:</h1>

<p>time = Time.new(2024, 6, 30, 0, 0, 0, “-10:00”) schedule.repeat_weekly(:sunday, time_of_day: time, duration_in_seconds: 60)</p>

<h1 id="label-You+can+repeat+monthly+by+the+nth+day-3B+e.g.+the+third+Tuesday+of+every+month-3A">You can repeat monthly by the nth day; e.g. the third Tuesday of every month:</h1>

<p>schedule.repeat_monthly_by_nth_weekday(:tuesday, 2, { hour: 1, minute: 2, second: 3 }, 300)</p>

<h1 id="label-Or+monthly+by+day-3B+e.g.+the+12th+of+every+month-3A">Or monthly by day; e.g. the 12th of every month:</h1>

<p>schedule.repeat_monthly_by_day(12, { hour: 1, minute: 2, second: 3 }, 300)</p>

<h1 id="label-Or+hourly-3A">Or hourly:</h1>

<p>schedule.repeat_hourly( time_of_day: { hour: 1, minute: 2, second: 3 }, duration_in_seconds: 300 )</p>

<pre class="code ruby"><code class="ruby">
## Development

### Compilation

- `rake compile:reprise`

After checking out the res
po, run `bin/setup` to install dependencies. Then, run `rake spec` to run the tests. You can also run `bin/console` for an interactive prompt that will allow you to experiment.

To install this gem onto your local machine, run `bundle exec rake install`. To release a new version, update the version number in `version.rb`, and then run `bundle exec rake release`, which will create a git tag for the version, push git commits and tags, and push the `.gem` file to [rubygems.org](https://rubygems.org).

## Generating Documentation

Generate documentation within the `./docs` directory so that it can be
easily imported into GitHub pages. 
See: https://medium.com/make-school/a-cheatsheet-to-generate-documentation-for-your-rails-project-on-gh-pages-e28f6acfb9b9
</code></pre>

<p>bundle exec rake yard</p>

<p>“‘</p>
<ul><li>
<p>[ ] TODO: When we have a decent 0.0.1, publish the yarddocs</p>
</li><li>
<p>on GitHub.</p>
</li></ul>

<h2 id="label-Related+Projects">Related Projects</h2>

<p>Reprise is indebted to <a href="https://github.com/rossta/montrose">Montrose</a> and <a href="https://github.com/ice-cube-ruby/ice_cube">ice_cube</a>, two projects that have served the Ruby community for years. In many ways, their APIs are much more elegant than Reprise’s – if you have no actual business need for the kind of performance that Reprise aims for</p>

<p>, you would probably be much better served by one of those two gems.</p>

<h2 id="label-Benchmarks">Benchmarks</h2>

<p>You can run benchmarks locally via <code>bundle exec rake benchmark</code>.</p>

<p>To view a list of past benchmarking results in CI, see <a href="https://github.com/jordanhiltunen/reprise/actions/workflows/benchmark.yml">past runs of our Benchmark worfklow</a>.</p>

<h2 id="label-Contributing">Contributing</h2>

<p>Bug reports and pull requests are welcome on GitHub at <a href="https://github.com/[USERNAME]/reprise">github.com/[USERNAME]/reprise</a>. This project is intended to be a safe, welcoming space for collaboration, and contributors are expected to adhere to the <a href="http://contributor-covenant.org">Contributor Covenant</a> code of conduct.</p>

<h2 id="label-License">License</h2>

<p>The gem is available as open source under the terms of the <a href="https://opensource.org/licenses/MIT">MIT License</a>.</p>

<h2 id="label-Code+of+Conduct">Code of Conduct</h2>

<p>Everyone interacting in the reprise project’s codebases, issue trackers, chat rooms and mailing lists is expected to follow the of conduct[https://github.com/[USERNAME]/reprise/blob/master/CODE_OF_CONDUCT.md].</p>
</div></div>

      <div id="footer">
  Generated on Sun Jul 14 20:18:53 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.36 (ruby-3.3.2).
</div>

    </div>
  </body>
</html>